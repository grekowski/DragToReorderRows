<!DOCTYPE html>
<html>
    <head>
        <title>HTML table reorder by drag and drop rows</title>
        <script src="dragreorder.js"></script>
    </head>
    <body>

        <h1>Usage example</h1>

        <h2>Table with additional buttons</h2>
        <button dragreorder-ref="abcd" dragreorder-action="conditional">Conditional button</button>
        <button dragreorder-ref="abcd" dragreorder-action="save">Save changes</button>
        <button dragreorder-ref="abcd" dragreorder-action="cancel">Reset order</button>
        <table dragreorder="true" dragreorder-ref="abcd" dragreorder-rowskip="1" dragreorder-action="button">
            <tr>
                <th>Id</th>
                <th>Product</th>
                <th>Description</th>
            </tr>
            <tr dragreorder-id="1">
                <td>A</td>
                <td>Apple</td>
                <td>Red apples</td>
            </tr>
            <tr dragreorder-id="2">
                <td>B</td>
                <td>Bannana</td>
                <td>Large bannanas</td>
            </tr>
            <tr dragreorder-id="3">
                <td>C</td>
                <td>Carrot</td>
                <td>Orange carrots</td>
            </tr>
        </table>


        <h2>Table with instant action and no buttons</h2>
        <table dragreorder="true" dragreorder-ref="efgh" dragreorder-action="instant">
            <tr dragreorder-id="abc">
                <td>1</td>
                <td>Alfa Romeo</td>
            </tr>
            <tr dragreorder-id="def">
                <td>B</td>
                <td>Bugatti</td>
            </tr>
            <tr dragreorder-id="ghi">
                <td>C</td>
                <td>Citroen</td>
            </tr>
        </table>

        <script>
            
            // Initialise drag to reorder functionality after DOM loaded
            document.addEventListener("DOMContentLoaded", function(){
                
                // Find all tables with dragreorder=true attribute
                document.querySelectorAll("table[dragreorder=true]").forEach(element => {
                    
                    // Initialise the object and make table draggable
                    // first parameter is mandatory, the table
                    // second parameter is optional - settings
                    // third parameter is optional - callback action
                    let object = new DragReorder(element, {'hide_conditional': false}, function(){
                        alert("OK");
                    });

                });

            });
        </script>

        <style>
            table {
                border: thin solid gray;
                border-collapse: collapse;
            }
            tr:nth-child(even) {
                background-color: lightyellow;
            }
            th, td {
                border: thin solid gray;
                padding: 0.6em 2em;
            }
            .dragreorder-dragging {
                box-shadow: 0 0 3px;
            }
        </style>
    </body>
</html>